<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>klausaturn</title>
  
  
  <link href="https://theme-next.js.org/atom.xml" rel="self"/>
  
  <link href="https://theme-next.js.org/"/>
  <updated>2022-02-13T13:49:15.187Z</updated>
  <id>https://theme-next.js.org/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Dockerized your app</title>
    <link href="https://theme-next.js.org/dockerized_your_app/"/>
    <id>https://theme-next.js.org/dockerized_your_app/</id>
    <published>2022-02-13T17:01:57.000Z</published>
    <updated>2022-02-13T13:49:15.187Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Dockerized-your-app"><a href="#Dockerized-your-app" class="headerlink" title="Dockerized your app"></a>Dockerized your app</h3><p>If this is your first time using docker, you can take some time to review the Docker Docs to see <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vZW5naW5lL2luc3RhbGwv">how to install Docker<i class="fa fa-external-link-alt"></i></span>. After the installation is successful, you should be able to execute <code>docker</code> on the command line.</p><span id="more"></span><p><img src="https://miro.medium.com/max/2652/0*b3vZvl70I3HyLKqU.png" loading="lazy"></p><h3 id="1-flask-app"><a href="#1-flask-app" class="headerlink" title="1. flask app"></a>1. flask app</h3><p>This is a simple flask app. <code>app.py</code></p><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line">application = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@application.route(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">hello_world</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, World!&quot;</span></span><br></pre></td></tr></table></figure><h3 id="2-wsgi-app"><a href="#2-wsgi-app" class="headerlink" title="2. wsgi app"></a>2. wsgi app</h3><p>And a simple wsgi app. <code>app.py</code><br>Using gunicorn ( Python WSGI HTTP Server for UNIX )</p><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> app <span class="keyword">import</span> application</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    application.run()</span><br></pre></td></tr></table></figure><h3 id="3-Dockerfile"><a href="#3-Dockerfile" class="headerlink" title="3. Dockerfile"></a>3. Dockerfile</h3><p>Creat <code>Dockerfile</code></p><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.9</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> pip install flask &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    pip install gunicorn</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> . /app</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /app</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">5000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [ <span class="string">&quot;gunicorn&quot;</span>, <span class="string">&quot;-w&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;--bind&quot;</span>, <span class="string">&quot;0.0.0.0:5000&quot;</span>, <span class="string">&quot;wsgi&quot;</span>]</span></span><br></pre></td></tr></table></figure><h3 id="4-Build-an-image-from-a-Dockerfile"><a href="#4-Build-an-image-from-a-Dockerfile" class="headerlink" title="4. Build an image from a Dockerfile"></a>4. Build an image from a Dockerfile</h3><blockquote><p><code>$ docker build -t &lt;your_app_name&gt; .</code></p></blockquote><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ docker build -t chapter-03-flask .</span><br><span class="line">[+] Building 2.9s (10/10) FINISHED</span><br><span class="line"> =&gt; [internal] load build definition from Dockerfile                                                                                                                         0.0s</span><br><span class="line"> =&gt; =&gt; transferring dockerfile: 37B                                                                                                                                          0.0s</span><br><span class="line"> =&gt; [internal] load .dockerignore                                                                                                                                            0.0s</span><br><span class="line"> =&gt; =&gt; transferring context: 34B                                                                                                                                             0.0s</span><br><span class="line"> =&gt; [internal] load metadata <span class="keyword">for</span> docker.io/library/python:3.9                                                                                                                2.7s</span><br><span class="line"> =&gt; [auth] library/python:pull token <span class="keyword">for</span> registry-1.docker.io                                                                                                                0.0s</span><br><span class="line"> =&gt; [1/4] FROM docker.io/library/python:3.9@sha256:73cc381fa0fe5e6d5dd38f1397da28c70096519d8818c2249f2bc8e1158ba015                                                          0.0s</span><br><span class="line"> =&gt; [internal] load build context                                                                                                                                            0.0s</span><br><span class="line"> =&gt; =&gt; transferring context: 86B                                                                                                                                             0.0s</span><br><span class="line"> =&gt; CACHED [2/4] RUN pip install flask &amp;&amp;     pip install gunicorn                                                                                                           0.0s</span><br><span class="line"> =&gt; CACHED [3/4] COPY . /tmp                                                                                                                                                 0.0s</span><br><span class="line"> =&gt; CACHED [4/4] WORKDIR /tmp                                                                                                                                                0.0s</span><br><span class="line"> =&gt; exporting to image                                                                                                                                                       0.0s</span><br><span class="line"> =&gt; =&gt; exporting layers                                                                                                                                                      0.0s</span><br><span class="line"> =&gt; =&gt; writing image sha256:16d6c45d49b128be9df9a0a40e762901137b07a31794678a6ed1e7f6e188c35e                                                                                 0.0s</span><br><span class="line"> =&gt; =&gt; naming to docker.io/library/chapter-03-flask                                                                                                                          0.0s</span><br><span class="line"></span><br><span class="line">Use <span class="string">&#x27;docker scan&#x27;</span> to run Snyk tests against images to find vulnerabilities and learn how to fix them</span><br><span class="line"></span><br><span class="line">$ docker images</span><br><span class="line">REPOSITORY                                   TAG       IMAGE ID       CREATED          SIZE</span><br><span class="line">chapter-03-flask                             latest    16d6c45d49b1   42 minutes ago   842MB</span><br></pre></td></tr></table></figure><h3 id="5-Run-a-command-in-a-new-container"><a href="#5-Run-a-command-in-a-new-container" class="headerlink" title="5. Run a command in a new container"></a>5. Run a command in a new container</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ docker run -d -P chapter-03-flask</span><br><span class="line">49a87b7565900340814fefbe950effcd21c5f881f02534e745f7a90b234426f2</span><br><span class="line"></span><br><span class="line">$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE              COMMAND                  CREATED              STATUS              PORTS                                         NAMES</span><br><span class="line">49a87b756590   chapter-03-flask   <span class="string">&quot;gunicorn -w 1 --binâ€¦&quot;</span>   About a minute ago   Up About a minute   0.0.0.0:55002-&gt;5000/tcp, :::55002-&gt;5000/tcp   tender_hamilton</span><br></pre></td></tr></table></figure><h3 id="6-Open-http-127-0-0-1-55002-check-your-port"><a href="#6-Open-http-127-0-0-1-55002-check-your-port" class="headerlink" title="6. Open http://127.0.0.1:55002/ (check your port)"></a>6. Open <span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo1NTAwMi8=">http://127.0.0.1:55002/<i class="fa fa-external-link-alt"></i></span> (check your port)</h3><p><img src="https://i.imgur.com/4qIH1jy.png" loading="lazy"></p>]]></content>
    
    
    <summary type="html">Learning How To Dockerized Your Python App In A Few Minutes</summary>
    
    
    
    
    <category term="python, docker" scheme="https://theme-next.js.org/tags/python-docker/"/>
    
  </entry>
  
</feed>
